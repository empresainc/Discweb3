<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Discover Cloud ‚Äî Discoins & Passe de Batalha</title>
<meta name="theme-color" content="#0b122a" />
<meta name="description" content="Resgate Discoins diariamente e troque por pr√™mios. Acesso protegido por reCAPTCHA. Parceiro: Discloud." />

<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Poppins:wght@600;700&display=swap" rel="stylesheet" />

<!-- Part√≠culas + reCAPTCHA v2 -->
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script src="https://www.google.com/recaptcha/api.js?hl=pt-BR" async defer></script>

<style>
:root{
  --bg1:#0b1129; --bg2:#050814; --panel:#0a1026; --panel2:#0f1534;
  --brand:#4f8cff; --brand2:#00d2ff; --violet:#7c4dff; --accent:#ff9d45;
  --text:#fff; --t2:#c7d3ff; --t3:#9aa7d4; --border:rgba(255,255,255,.14);
  --ok:#4adf86; --danger:#ff8a8a; --ease:cubic-bezier(.2,.7,.2,1);
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:'Inter',system-ui,-apple-system,'Segoe UI',sans-serif;
  color:var(--text);
  background:radial-gradient(1200px 800px at 10% 10%, #111a3b 0%, var(--bg1) 40%, var(--bg2) 80%),
             radial-gradient(900px 700px at 90% -10%, #0d1533 0%, var(--bg2) 70%);
  overflow-x:hidden;
}
.container{width:min(1100px,92vw);margin:0 auto}
a{color:inherit;text-decoration:none}

#particles-js{position:fixed;inset:0;z-index:-2}
.ribbon{position:sticky;top:0;z-index:60;background:linear-gradient(90deg,rgba(79,140,255,.25),rgba(124,77,255,.25));backdrop-filter:blur(8px);border-bottom:1px solid var(--border)}
.ribbon .container{display:flex;gap:10px;align-items:center;justify-content:center;padding:8px 0;font-weight:700}
.ribbon a{text-decoration:underline}

header{position:sticky;top:32px;z-index:50;backdrop-filter:blur(14px);background:rgba(8,12,26,.55);border-bottom:1px solid var(--border)}
.nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
.brand{display:flex;align-items:center;gap:12px;font-family:'Poppins';font-weight:700}
.brand img{width:40px;height:40px;border-radius:12px;box-shadow:0 10px 30px rgba(79,140,255,.35)}
nav ul{display:flex;gap:16px;list-style:none}
nav a{color:var(--t2);font-weight:800;font-size:.9rem;position:relative;padding:8px 0}
nav a::after{content:"";position:absolute;left:0;bottom:-6px;height:2px;width:0;background:linear-gradient(90deg,var(--brand),var(--brand2));transition:width .4s var(--ease)}
nav a:hover{color:#fff}nav a:hover::after{width:100%}
.actions{display:flex;gap:10px}
.btn{display:inline-flex;align-items:center;gap:10px;padding:10px 18px;border-radius:999px;font-weight:800;letter-spacing:.02em}
.btn-primary{background:linear-gradient(135deg,var(--brand),var(--brand2));color:#06102b;box-shadow:0 16px 40px rgba(79,140,255,.35)}
.btn-ghost{border:1px solid rgba(79,140,255,.35);color:var(--t2)}
.btn-ghost:hover{background:rgba(79,140,255,.14);color:#fff}
.chip{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.1);border:1px solid var(--border);font-weight:800;font-size:.75rem;letter-spacing:.12em;text-transform:uppercase}

main{padding:38px 0}
.section-title{font-family:'Poppins';font-weight:800;font-size:clamp(1.4rem,3.8vw,2rem);margin-bottom:8px}
.section-sub{color:var(--t2);margin-bottom:16px}

/* Pain√©is */
.card{background:linear-gradient(160deg, rgba(13,20,42,.9), rgba(21,27,52,.82));
  border:1px solid var(--border);border-radius:18px;padding:18px;box-shadow:0 30px 80px rgba(3,8,20,.45)}
.grid{display:grid;gap:18px}
@media (min-width:900px){.grid-2{grid-template-columns:1.1fr 1fr}.grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}}
.stat{display:flex;flex-direction:column;gap:6px;padding:14px;border:1px solid var(--border);border-radius:14px;background:rgba(255,255,255,.04)}
.stat strong{font-size:1.4rem}

/* Discoins */
.wallet{display:flex;align-items:center;gap:12px}
.balance{font-family:'Poppins';font-size:2.1rem}
.progress{height:10px;border-radius:999px;background:rgba(255,255,255,.08);overflow:hidden}
.progress > span{display:block;height:100%;background:linear-gradient(90deg,var(--brand),var(--violet));width:0%}
.shop-item{display:grid;gap:8px;border:1px solid var(--border);padding:16px;border-radius:14px;background:rgba(255,255,255,.04)}
.shop-item h4{font-family:'Poppins'}
.shop-item .price{color:var(--t3);font-weight:800}
.shop-item .btn{justify-content:center}
.bad{opacity:.5;pointer-events:none}
.history{max-height:220px;overflow:auto;border:1px solid var(--border);border-radius:12px;padding:10px;background:rgba(255,255,255,.03)}
.history li{display:flex;justify-content:space-between;padding:8px;border-bottom:1px dashed rgba(255,255,255,.06)}
.history li:last-child{border-bottom:0}

/* Tabs */
.tabs{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap}
.tab{border:1px solid var(--border);background:rgba(255,255,255,.06);padding:10px 14px;border-radius:999px;font-weight:800}
.tab.active{background:linear-gradient(135deg,var(--brand),var(--brand2));color:#07122c;border-color:transparent}

/* Modal reCAPTCHA */
.gate{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:radial-gradient(1200px 900px at 20% 20%, rgba(79,140,255,.18), rgba(5,8,20,.94) 65%);backdrop-filter:blur(14px);z-index:9999}
.gate .card{width:min(460px,92vw);text-align:center}
.gate .rules{color:var(--t2);background:rgba(255,255,255,.06);border:1px solid var(--border);padding:12px;border-radius:14px;margin:8px 0}
.gate .flex{display:flex;justify-content:center}

/* Modal reCAPTCHA para ‚ÄúPainel‚Äù */
.rc-modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.6);z-index:1000}
.rc-modal.open{display:flex}
.rc-card{background:#0b1130;border:1px solid var(--border);border-radius:16px;padding:18px;box-shadow:0 30px 80px rgba(3,8,20,.45);width:min(420px,92vw);text-align:center;color:#cfe0ff}
.rc-actions{display:flex;gap:8px;justify-content:center;margin-top:10px}
.rc-close{border:1px solid var(--border);background:transparent;color:#cfe0ff;border-radius:999px;padding:8px 14px;font-weight:700}
.rc-continue{opacity:.4;pointer-events:none}
.note{color:var(--t3);font-size:.92rem}
</style>
</head>
<body>

<!-- Ribbon topo -->
<div class="Ribbon ribbon">
  <div class="container">
    üé¨ Trailer do app <strong>em breve</strong> ‚Äî siga o
    <a href="https://www.youtube.com/@discovernews2/videos" target="_blank" rel="noopener">canal Discover News</a>.
    ‚Ä¢ Parceiro: <a href="https://discloud.com/" target="_blank" rel="noopener">Discloud</a>
  </div>
</div>

<!-- Part√≠culas -->
<div id="particles-js" aria-hidden="true"></div>

<!-- Gate de entrada (reCAPTCHA obrigat√≥rio) -->
<div id="entryGate" class="gate" role="dialog" aria-modal="true" aria-labelledby="gtitle">
  <div class="card">
    <div class="brand" style="justify-content:center;margin-bottom:8px">
      <img src="https://i.ibb.co/21HWwywW/Gemini-Generated-Image-47non947non947no.png" alt="Discover Cloud"/>
      <span>Discover Cloud</span>
    </div>
    <h2 id="gtitle" class="section-title">Verifica√ß√£o r√°pida</h2>
    <p class="rules"><strong>Novas regras:</strong> √© necess√°rio resolver o reCAPTCHA para entrar. <strong>Privacidade:</strong> n√£o coletamos dados sens√≠veis.</p>
    <div class="flex" style="margin:12px 0">
      <div id="entryCaptcha"></div>
    </div>
    <p id="gateMsg" class="note">Marque a caixa acima para liberar o site.</p>
  </div>
</div>

<!-- Header -->
<header>
  <div class="container nav">
    <a class="brand" href="#topo">
      <img src="https://i.ibb.co/21HWwywW/Gemini-Generated-Image-47non947non947no.png" alt="Discover Cloud"/>
      <span>Discover Cloud</span>
    </a>
    <nav aria-label="principal">
      <ul>
        <li><a href="#passe">Passe de Batalha</a></li>
        <li><a href="#loja">Loja</a></li>
        <li><a href="#historico">Hist√≥rico</a></li>
      </ul>
    </nav>
    <div class="actions">
      <a class="btn btn-ghost js-panel" href="#" data-href="https://discloud.com/">Painel</a>
    </div>
  </div>
</header>

<!-- Conte√∫do principal -->
<main id="topo" class="container">
  <section id="dashboard" class="grid grid-2">
    <div class="card">
      <h2 class="section-title">Sua carteira</h2>
      <p class="section-sub">Reivindique Discoins diariamente e troque por pr√™mios.</p>
      <div class="wallet" style="margin:10px 0 6px">
        <span class="chip">Discoins</span>
        <span id="balance" class="balance">0</span>
      </div>
      <div class="grid" style="grid-template-columns:repeat(3,minmax(0,1fr));margin-top:10px">
        <div class="stat"><strong id="claimedToday">0</strong><span class="t2">Hoje</span></div>
        <div class="stat"><strong id="nextClaim">‚Äî</strong><span class="t2">Pr√≥ximo resgate</span></div>
        <div class="stat"><strong id="lifetime">0</strong><span class="t2">Acumulado</span></div>
      </div>
      <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:14px">
        <button id="btnDaily" class="btn btn-primary">Resgatar 20 / dia</button>
        <span class="note">Limite: 1 vez por dia</span>
      </div>
    </div>

    <div id="passe" class="card">
      <h2 class="section-title">Passe de Batalha</h2>
      <p class="section-sub">Progrida com seus Discoins. Metas principais abaixo.</p>

      <div style="margin-bottom:10px">
        <div style="display:flex;justify-content:space-between;margin-bottom:6px">
          <strong>Nitro mensal</strong>
          <strong><span id="pbNitro">0</span>/300</strong>
        </div>
        <div class="progress"><span id="barNitro" style="width:0%"></span></div>
      </div>

      <div>
        <div style="display:flex;justify-content:space-between;margin-bottom:6px">
          <strong>Decora√ß√µes Discord</strong>
          <strong><span id="pbDeco">0</span>/400</strong>
        </div>
        <div class="progress"><span id="barDeco" style="width:0%"></span></div>
      </div>
    </div>
  </section>

  <!-- Loja -->
  <section id="loja" style="margin-top:22px">
    <div class="card">
      <h2 class="section-title">Loja de pr√™mios</h2>
      <p class="section-sub">Resgate quando atingir o saldo m√≠nimo. Voc√™ receber√° instru√ß√µes por e-mail ap√≥s a valida√ß√£o.</p>
      <div class="grid grid-3">
        <div class="shop-item">
          <h4>Nitro mensal</h4>
          <div class="price">300 Discoins</div>
          <button id="redeemNitro" class="btn btn-primary bad" disabled>Resgatar</button>
        </div>
        <div class="shop-item">
          <h4>Decora√ß√µes Discord</h4>
          <div class="price">400 Discoins</div>
          <button id="redeemDeco" class="btn btn-primary bad" disabled>Resgatar</button>
        </div>
        <div class="shop-item">
          <h4>B√¥nus di√°rio extra (em breve)</h4>
          <div class="price">‚Äî</div>
          <button class="btn btn-ghost" disabled>Em breve</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Hist√≥rico -->
  <section id="historico" style="margin-top:22px">
    <div class="card">
      <h2 class="section-title">Hist√≥rico</h2>
      <ul id="history" class="history"></ul>
    </div>
  </section>
</main>

<footer style="margin-top:40px;border-top:1px solid var(--border);padding:30px 0 60px">
  <div class="container" style="display:flex;justify-content:space-between;gap:16px;flex-wrap:wrap;color:var(--t3)">
    <div>¬© <span id="year"></span> Discover Cloud</div>
    <div>Parceiro: <a href="https://discloud.com/" target="_blank" rel="noopener" style="text-decoration:underline">Discloud</a></div>
  </div>
</footer>

<!-- Modal reCAPTCHA para Painel -->
<div id="rc-modal" class="rc-modal" aria-hidden="true">
  <div class="rc-card" role="dialog" aria-modal="true" aria-labelledby="rc-title">
    <h3 id="rc-title" style="font-family:'Poppins';margin-bottom:6px">Verifica√ß√£o de seguran√ßa</h3>
    <p class="note" style="margin-bottom:10px">Marque o reCAPTCHA para abrir o painel do parceiro.</p>
    <div id="recaptchaMount"></div>
    <div class="rc-actions">
      <button class="rc-close" id="rc-cancel" type="button">Cancelar</button>
      <button class="btn btn-primary rc-continue" id="rc-continue" type="button" disabled>Continuar</button>
    </div>
    <p id="rc-error" style="display:none;color:#ffb199;font-weight:800;margin-top:8px"></p>
  </div>
</div>

<script>
/* ========= Config ========= */
const SITE_KEY_V2 = "6LenS_crAAAAANKT2DablQJxd1MbEryy3O7KJp8N"; // reCAPTCHA v2
const STORAGE = "discover.discoins.v1";
const DAILY_AMOUNT = 20;
const NITRO_COST = 300;
const DECO_COST  = 400;

/* ========= Part√≠culas ========= */
particlesJS("particles-js",{
  particles:{number:{value:60},color:{value:["#4f8cff","#7c4dff","#00d2ff"]},opacity:{value:.22,random:true},
    size:{value:3,random:true},line_linked:{enable:true,distance:140,color:"#4f8cff",opacity:.18,width:1},
    move:{enable:true,speed:1.3,out_mode:"out"}},
  interactivity:{detect_on:"canvas",events:{onhover:{enable:true,mode:"grab"}},
  modes:{grab:{distance:120,line_linked:{opacity:.28}}}}
});

/* ========= Estado local ========= */
const nowUTC = () => new Date(Date.now());
function todayKey(d=new Date()){const x=new Date(d); x.setHours(0,0,0,0); return x.toISOString().slice(0,10);}

function loadState(){
  try{
    const raw=localStorage.getItem(STORAGE);
    if(!raw) return {balance:0, lastClaimDay:null, lifetime:0, todayClaimed:0, history:[]};
    const s=JSON.parse(raw);
    const t=todayKey();
    if(s.lastClaimDay!==t){s.todayClaimed=0;}
    return s;
  }catch{return {balance:0, lastClaimDay:null, lifetime:0, todayClaimed:0, history:[]};}
}
function saveState(s){ localStorage.setItem(STORAGE, JSON.stringify(s)); }

/* ========= UI helpers ========= */
const $ = (q)=>document.querySelector(q);
function fmtTime(ms){
  const sec=Math.max(0,Math.floor(ms/1000));
  const h=Math.floor(sec/3600), m=Math.floor((sec%3600)/60), s=sec%60;
  return `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
}
function toast(msg){ const el=document.createElement('div');
  el.textContent=msg; el.style.position='fixed';el.style.left='50%';el.style.top='20px';el.style.transform='translateX(-50%)';
  el.style.background='rgba(0,0,0,.75)';el.style.color='#fff';el.style.padding='10px 14px';el.style.borderRadius='10px';
  el.style.zIndex=99999;document.body.appendChild(el); setTimeout(()=>el.remove(),1800); }

/* ========= Render inicial ========= */
let S = loadState();
function render(){
  $("#balance").textContent = S.balance;
  $("#lifetime").textContent = S.lifetime;
  $("#claimedToday").textContent = S.todayClaimed;

  const t = todayKey();
  if(S.lastClaimDay===t && S.todayClaimed>0){
    const midnight = new Date(); midnight.setHours(24,0,0,0);
    $("#nextClaim").textContent = fmtTime(midnight - new Date());
  }else{
    $("#nextClaim").textContent = "Dispon√≠vel";
  }

  const n = Math.min(100,(S.balance/NITRO_COST)*100);
  const d = Math.min(100,(S.balance/DECO_COST)*100);
  $("#barNitro").style.width = n+"%";
  $("#barDeco").style.width = d+"%";
  $("#pbNitro").textContent = Math.min(S.balance,NITRO_COST);
  $("#pbDeco").textContent  = Math.min(S.balance,DECO_COST);

  const nitroBtn=$("#redeemNitro"), decoBtn=$("#redeemDeco");
  if(S.balance>=NITRO_COST){nitroBtn.removeAttribute('disabled');nitroBtn.classList.remove('bad');}
  else{nitroBtn.setAttribute('disabled','disabled');nitroBtn.classList.add('bad');}
  if(S.balance>=DECO_COST){decoBtn.removeAttribute('disabled');decoBtn.classList.remove('bad');}
  else{decoBtn.setAttribute('disabled','disabled');decoBtn.classList.add('bad');}

  const ul=$("#history"); ul.innerHTML="";
  if(!S.history.length){ ul.innerHTML='<li><span>Sem movimentos ainda</span><span>‚Äî</span></li>'; }
  else{
    S.history.slice().reverse().forEach(h=>{
      const li=document.createElement('li');
      li.innerHTML=`<span>${h.label}</span><span>${h.value>0?'+':''}${h.value} ‚Ä¢ <small>${new Date(h.ts).toLocaleString()}</small></span>`;
      ul.appendChild(li);
    });
  }
}
render();
setInterval(()=>{
  const t = todayKey();
  if(S.lastClaimDay===t && S.todayClaimed>0){
    const midnight = new Date(); midnight.setHours(24,0,0,0);
    $("#nextClaim").textContent = fmtTime(midnight - new Date());
  }
},1000);

/* ========= L√≥gica Di√°rio ========= */
$("#btnDaily").addEventListener("click",()=>{
  const t=todayKey();
  if(S.lastClaimDay===t && S.todayClaimed>0){toast("Voc√™ j√° resgatou hoje.");return;}
  S.balance+=DAILY_AMOUNT;
  S.lifetime+=DAILY_AMOUNT;
  S.todayClaimed=DAILY_AMOUNT;
  S.lastClaimDay=t;
  S.history.push({label:"Daily +20",value:+20,ts:Date.now()});
  saveState(S);render();toast("Daily coletado! +20 Discoins");
});

/* ========= Resgates ========= */
function redeem(cost,label){
  if(S.balance<cost)return;
  if(!confirm(`Confirmar resgate de ${label} por ${cost} Discoins?`))return;
  S.balance-=cost;
  S.history.push({label:`Resgate: ${label}`,value:-cost,ts:Date.now()});
  saveState(S);render();toast("Resgate solicitado! Voc√™ receber√° instru√ß√µes por e-mail.");
}
$("#redeemNitro").addEventListener("click",()=>redeem(NITRO_COST,"Nitro mensal"));
$("#redeemDeco").addEventListener("click",()=>redeem(DECO_COST,"Decora√ß√µes Discord"));

/* ========= reCAPTCHA: Gate de entrada ========= */
let entryWidgetId=null;
function onEntrySolved(){document.getElementById("entryGate").style.display="none";}
function renderEntryCaptcha(){
  if(!window.grecaptcha||typeof grecaptcha.render!=="function")return false;
  if(entryWidgetId===null){
    entryWidgetId=grecaptcha.render("entryCaptcha",{
      sitekey:SITE_KEY_V2,
      callback:onEntrySolved,
      "expired-callback":()=>{document.getElementById("entryGate").style.display="flex";}
    });
  }
  return true;
}
(function waitEntry(){if(!renderEntryCaptcha())setTimeout(waitEntry,150);})();

/* ========= reCAPTCHA: Painel ========= */
let rcSolvedToken="",rcWidgetId=null,rcHref="https://discloud.com/";
function onRcOk(token){rcSolvedToken=token;const b=$("#rc-continue");b.classList.remove("rc-continue");b.removeAttribute("disabled");$("#rc-error").style.display="none";}
function onRcExpired(){
  rcSolvedToken="";
  const b=$("#rc-continue");
  b.classList.add("rc-continue");
  b.setAttribute("disabled","disabled");
}

function renderRcCaptcha(){
  if(!window.grecaptcha||typeof grecaptcha.render!=="function")return false;
  if(rcWidgetId===null){
    rcWidgetId=grecaptcha.render("recaptchaMount",{
      sitekey:SITE_KEY_V2,
      callback:onRcOk,
      "expired-callback":onRcExpired
    });
  }
  return true;
}
(function waitRc(){if(!renderRcCaptcha())setTimeout(waitRc,150);})();

const rcModal=$("#rc-modal");
const rcCancel=$("#rc-cancel");
const rcContinue=$("#rc-continue");

document.querySelectorAll(".js-panel").forEach(el=>{
  el.addEventListener("click",ev=>{
    ev.preventDefault();
    rcHref=el.getAttribute("data-href")||"https://discloud.com/";
    rcModal.classList.add("open");
    rcModal.setAttribute("aria-hidden","false");
    rcSolvedToken="";
    const b=$("#rc-continue");
    b.classList.add("rc-continue");
    b.setAttribute("disabled","disabled");
    $("#rc-error").style.display="none";
  });
});

rcCancel.addEventListener("click",()=>{
  rcModal.classList.remove("open");
  rcModal.setAttribute("aria-hidden","true");
});

rcContinue.addEventListener("click",()=>{
  if(!rcSolvedToken){
    $("#rc-error").style.display="block";
    $("#rc-error").textContent="Verifique o reCAPTCHA antes de continuar.";
    return;
  }
  $("#rc-error").style.display="none";
  toast("Acessando painel...");
  setTimeout(()=>{
    window.open(rcHref,"_blank");
    rcModal.classList.remove("open");
  },800);
});

/* ========= Ano autom√°tico ========= */
$("#year").textContent=new Date().getFullYear();
</script>

</body>
</html>
